<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>Projekt IIS</title>
    <style type="text/css">
        table {
            border-collapse: collapse;
        }

        td, th {
            border: 1px solid black;
            padding: 0.3em 0.5em;
            text-align: left;
        }

        dt {
            font-weight: bold;
            margin-top: 0.5em;
        }
    </style>
</head>
<body>

<h1>Nemocnice</h1>

<dl>
    <dt>Autoři</dt>
    <dd>Jakub Fajkus
        <a href="mailto:xfajku06@stud.fit.vutbr.cz">xfajku06@stud.fit.vutbr.cz</a> -
        databáze, backend, nasazení aplikace
    </dd>
    <dd>David Czernin
        <a href="mailto:xczern01@stud.fit.vutbr.cz">xczern01@stud.fit.vutbr.cz</a> -
        frontend
    </dd>
    <dd>Richard Bureš
        <a href="mailto:xbures29@stud.fit.vutbr.cz">xbures29@stud.fit.vutbr.cz</a> -
        backend, databáze
    </dd>
    <dt>URL aplikace</dt>
    <dd><a href="http://iis.jakubfajkus.cz">http://iis.jakubfajkus.cz</a></dd>
</dl>

<h2>Uživatelé systému pro testování</h2>
<table>
    <tr>
        <th>Login</th>
        <th>Heslo</th>
        <th>Role</th>
    </tr>
    <tr>
        <td>admin</td>
        <td>7R=ivwNs83</td>
        <td>Administrátor</td>
    </tr>
    <tr>
        <td>superAdmin</td>
        <td>aMu+xr77yT</td>
        <td>Super administrátor(má přístup všude, určen pro vývoj)</td>
    </tr>
    <tr>
        <td>nurse</td>
        <td>nurse</td>
        <td>Sestra</td>
    </tr>
    <tr>
        <td>doctor</td>
        <td>doctor</td>
        <td>Lékař</td>
    </tr>
</table>

<h2>Testování</h2>
<p>Pro účely testování jsou u některých formulářů tlačítka pro geneorvání dat.</p>

<h2>Implementace</h2>
<p>
    V UC diagramu jsou případy užití, které popisují mazání záznamů. Mazání ve výsledné aplikaci není implementováno.
    Je to proto, že v systému jako je tento, není mazání žádoucí, protože je nutné udržovat historii.
    Zaměstnance je možné deaktivovat tak, že se nebudou schopni přihlásit do systému.
</p>
<p>UC z diagramu užití, které popisují mazání, jsou tedy z tabulky níže vynechány.</p>
<h3>Implementace UC</h3>
<table>
    <tr>
        <th>UC</th>
        <th>Controller</th>
        <th>Metoda(popis)</th>
    </tr>

    <tr>
        <td>Vyhledat pacienta</td>
        <td>AppBundle/Controller/PatientController.php</td>
        <td>indexAction</td>
    </tr>
    <tr>
        <td>Umístit pacienta na oddělení(hospitalizovat)</td>
        <td>AppBundle/Controller/PatientController.php</td>
        <td>hospitalizeAction</td>
    </tr>
    <tr>
        <td>Vyšetřit pacienta</td>
        <td>AppBundle/Controller/PatientController.php</td>
        <td>examineAction</td>
    </tr>
    <tr>
        <td>Vyhledat lék</td>
        <td></td>
        <td>Probíhá výběrem ze select boxu</td>
    </tr>
    <tr>
        <td>Předepsat lék</td>
        <td>AppBundle/Controller/PrescriptionController.php</td>
        <td>newAction</td>
    </tr>
    <tr>
        <td>Přidat pacienta</td>
        <td>AppBundle/Controller/PatientController.php</td>
        <td>newAction</td>
    </tr>
    <tr>
        <td>Editovat pacienta</td>
        <td>AppBundle/Controller/PatientController.php</td>
        <td>editAction</td>
    </tr>
    <tr>
        <td>Zobrazit informace o pacientovi</td>
        <td>AppBundle/Controller/PatientController.php</td>
        <td>showAction</td>
    </tr>
    <tr>
        <td>Vyhledat paceintovy léky</td>
        <td>AppBundle/Controller/PatientController.php</td>
        <td>showAction</td>
    </tr>
    <tr>
        <td>Zapsat podání léku</td>
        <td>AppBundle/Controller/PrescriptionController.php</td>
        <td>newAction</td>
    </tr>
    <tr>
        <td>Přidat lék</td>
        <td>AdminBundle/Controller/DrugController.php</td>
        <td>newAction</td>
    </tr>
    <tr>
        <td>Editovat lék</td>
        <td>AdminBundle/Controller/DrugController.php</td>
        <td>editAction</td>
    </tr>
    <tr>
        <td>Přidat zaměstnance - admin</td>
        <td>AdminBundle/Controller/EmployeeController.php</td>
        <td>createAction</td>
    </tr>
    <tr>
        <td>Přidat zaměstnance - lékař</td>
        <td>AdminBundle/Controller/DoctorController.php</td>
        <td>createAction</td>
    </tr>
    <tr>
        <td>Přidat zaměstnance - sestra</td>
        <td>AdminBundle/Controller/NurseController.php</td>
        <td>createAction</td>
    </tr>
    <tr>
        <td>Editovat zaměstnance - admin</td>
        <td>AdminBundle/Controller/EmployeeController.php</td>
        <td>editAction</td>
    </tr>
    <tr>
        <td>Editovat zaměstnance - lékař</td>
        <td>AdminBundle/Controller/DoctorController.php</td>
        <td>editAction</td>
    </tr>
    <tr>
        <td>Editovat zaměstnance - sestra</td>
        <td>AdminBundle/Controller/NurseController.php</td>
        <td>editAction</td>
    </tr>
    <tr>
        <td>Přemístit sestru na oddělení</td>
        <td>AdminBundle/Controller/NurseController.php</td>
        <td>editAction</td>
    </tr>
    <tr>
        <td>Přidat úvazek lékaře</td>
        <td>AdminBundle/Controller/EmploymentController.php</td>
        <td>newAction</td>
    </tr>
    <tr>
        <td>Editovat úvazek lékaře</td>
        <td>AdminBundle/Controller/EmploymentController.php</td>
        <td>editAction</td>
    </tr>
    <tr>
        <td>Přidat oddělení</td>
        <td>AdminBundle/Controller/DepartmentController.php</td>
        <td>newAction</td>
    </tr>
    <tr>
        <td>Editovat oddělení</td>
        <td>AdminBundle/Controller/DepartmentController.php</td>
        <td>editAction</td>
    </tr>
</table>

<h3>Rozdíly v implementaci</h3>
<p>Rodné číslo pacienta v návrhu IDS bylo datového typu celé číslo. Ve finální implementaci je datového typu string.
    Je to kvůli snaze o použitelnosti aplikace i v jiných systémech, než je český.
    Také pro možnost registrace cizinců, kteří mohou mít rodná čísla(nebo jejich ekvivalent) v jiném formátu.
    Není díky toho implementována kontrola správnosti rodného čísla, kerá byla použita v projektu IDS.
</p>

<p>Telefonní čísla zaměstnanců byla v původním návrhu datového typu celé číslo. Ve finální implementaci jsou datového
    typu string.
    To dovoluje čísla např. se znakem +
</p>


<h2>Instalace</h2>
<ul>
    <li>Aplikace byla je vyvíjena pro technologii docker.</li>
    <li>Ke spuštění aplikace je potřeba mít nainstalovány apliakce docker a docker-compose</li>
    <li>Pro spuštění aplikace by mělo stačit v rozbalené složce s projektem spustit <b>docker-compose up</b>.</li>
    <li>Aplikace bude přístupná na portu 80. Mysql databáze byde naslouchat na portu 3306.</li>
</ul>


<h2>Použité knihovny</h2>
<p>Aplikace je postavena nad frameworkem Symfony verze 3.3. Níže je tabulka s přehledem všech nainstalovaných php
    knihoven.</p>

<table>
    <tr>
        <th>Název</th>
        <th>Verze</th>
        <th>Popis</th>
    </tr>

    <tr>
        <td>composer/ca-bundle</td>
        <td>1.1.0</td>
        <td>Lets you find a path to the system CA bundle, and includes a fallback to the Mozilla CA bundle.</td>
    </tr>
    <tr>
        <td>doctrine/annotations</td>
        <td>v1.5.0</td>
        <td>Docblock Annotations Parser</td>
    </tr>
    <tr>
        <td>doctrine/cache</td>
        <td>v1.7.1</td>
        <td>Caching library offering an object-oriented API for many cache backends</td>
    </tr>
    <tr>
        <td>doctrine/collections</td>
        <td>v1.5.0</td>
        <td>Collections Abstraction library</td>
    </tr>
    <tr>
        <td>doctrine/common</td>
        <td>v2.8.1</td>
        <td>Common Library for Doctrine projects</td>
    </tr>
    <tr>
        <td>doctrine/dbal</td>
        <td>v2.6.3</td>
        <td>Database Abstraction Layer</td>
    </tr>
    <tr>
        <td>doctrine/doctrine-bundle</td>
        <td>1.8.1</td>
        <td>Symfony DoctrineBundle</td>
    </tr>
    <tr>
        <td>doctrine/doctrine-cache-bundle</td>
        <td>1.3.2</td>
        <td>Symfony Bundle for Doctrine Cache</td>
    </tr>
    <tr>
        <td>doctrine/doctrine-migrations-bundle</td>
        <td>v1.3.1</td>
        <td>Symfony DoctrineMigrationsBundle</td>
    </tr>
    <tr>
        <td>doctrine/inflector</td>
        <td>v1.2.0</td>
        <td>Common String Manipulations with regard to casing and singular/plural rules.</td>
    </tr>
    <tr>
        <td>doctrine/instantiator</td>
        <td>1.1.0</td>
        <td>A small, lightweight utility to instantiate objects in PHP without invoking their constructors</td>
    </tr>
    <tr>
        <td>doctrine/lexer</td>
        <td>v1.0.1</td>
        <td>Base library for a lexer that can be used in Top-Down, Recursive Descent Parsers.</td>
    </tr>
    <tr>
        <td>doctrine/migrations</td>
        <td>v1.6.2</td>
        <td>Database Schema migrations using Doctrine DBAL</td>
    </tr>
    <tr>
        <td>doctrine/orm</td>
        <td>v2.5.13</td>
        <td>Object-Relational-Mapper for PHP</td>
    </tr>
    <tr>
        <td>fig/link-util</td>
        <td>1.0.0</td>
        <td>Common utility implementations for HTTP links</td>
    </tr>
    <tr>
        <td>friendsofsymfony/user-bundle</td>
        <td>v2.0.2</td>
        <td>Symfony FOSUserBundle</td>
    </tr>
    <tr>
        <td>incenteev/composer-parameter-handler</td>
        <td>v2.1.2</td>
        <td>Composer script handling your ignored parameter file</td>
    </tr>
    <tr>
        <td>jdorn/sql-formatter</td>
        <td>v1.2.17</td>
        <td>a PHP SQL highlighting library</td>
    </tr>
    <tr>
        <td>knplabs/knp-menu</td>
        <td>2.3.0</td>
        <td>An object oriented menu library</td>
    </tr>
    <tr>
        <td>knplabs/knp-menu-bundle</td>
        <td>v2.2.0</td>
        <td>This bundle provides an integration of the KnpMenu library</td>
    </tr>
    <tr>
        <td>monolog/monolog</td>
        <td>1.23.0</td>
        <td>Sends your logs to files, sockets, inboxes, databases and various web services</td>
        </td>
    </tr>
    <tr>
        <td>ocramius/package-versions</td>
        <td>1.2.0</td>
        <td>Composer plugin that provides efficient querying for installed package versions (no runtime IO)</td>
    </tr>
    <tr>
        <td>ocramius/proxy-manager</td>
        <td>2.1.1</td>
        <td>A library providing utilities to generate, instantiate and generally operate with Object Proxies</td>
    </tr>
    <tr>
        <td>paragonie/random_compat</td>
        <td>v2.0.11</td>
        <td>PHP 5.x polyfill for random_bytes() and random_int() from PHP 7</td>
    </tr>
    <tr>
        <td>psr/cache</td>
        <td>1.0.1</td>
        <td>Common interface for caching libraries</td>
    </tr>
    <tr>
        <td>psr/container</td>
        <td>1.0.0</td>
        <td>Common Container Interface (PHP FIG PSR-11)</td>
    </tr>
    <tr>
        <td>psr/link</td>
        <td>1.0.0</td>
        <td>Common interfaces for HTTP links</td>
    </tr>
    <tr>
        <td>psr/log</td>
        <td>1.0.2</td>
        <td>Common interface for logging libraries</td>
    </tr>
    <tr>
        <td>psr/simple-cache</td>
        <td>1.0.0</td>
        <td>Common interfaces for simple caching</td>
    </tr>
    <tr>
        <td>sensio/distribution-bundle</td>
        <td>v5.0.21</td>
        <td>Base bundle for Symfony Distributions</td>
    </tr>
    <tr>
        <td>sensio/framework-extra-bundle</td>
        <td>v5.1.2</td>
        <td>This bundle provides a way to configure your controllers with annotations</td>
    </tr>
    <tr>
        <td>sensio/generator-bundle</td>
        <td>v3.1.6</td>
        <td>This bundle generates code for you</td>
    </tr>
    <tr>
        <td>sensiolabs/security-checker</td>
        <td>v4.1.6</td>
        <td>A security checker for your composer.lock</td>
    </tr>
    <tr>
        <td>swiftmailer/swiftmailer</td>
        <td>v5.4.8</td>
        <td>Swiftmailer, free feature-rich PHP mailer</td>
    </tr>
    <tr>
        <td>symfony/monolog-bundle</td>
        <td>v3.1.2</td>
        <td>Symfony MonologBundle</td>
    </tr>
    <tr>
        <td>symfony/phpunit-bridge</td>
        <td>v3.4.0</td>
        <td>Symfony PHPUnit Bridge</td>
    </tr>
    <tr>
        <td>symfony/polyfill-apcu</td>
        <td>v1.6.0</td>
        <td>Symfony polyfill backporting apcu_* functions to lower PHP versions</td>
    </tr>
    <tr>
        <td>symfony/polyfill-intl-icu</td>
        <td>v1.6.0</td>
        <td>Symfony polyfill for intl's ICU-related data and classes</td>
    </tr>
    <tr>
        <td>symfony/polyfill-mbstring</td>
        <td>v1.6.0</td>
        <td>Symfony polyfill for the Mbstring extension</td>
    </tr>
    <tr>
        <td>symfony/polyfill-php56</td>
        <td>v1.6.0</td>
        <td>Symfony polyfill backporting some PHP 5.6+ features to lower PHP versions</td>
    </tr>
    <tr>
        <td>symfony/polyfill-php70</td>
        <td>v1.6.0</td>
        <td>Symfony polyfill backporting some PHP 7.0+ features to lower PHP versions</td>
    </tr>
    <tr>
        <td>symfony/polyfill-util</td>
        <td>v1.6.0</td>
        <td>Symfony utilities for portability of PHP codes</td>
    </tr>
    <tr>
        <td>symfony/swiftmailer-bundle</td>
        <td>v2.6.7</td>
        <td>Symfony SwiftmailerBundle</td>
    </tr>
    <tr>
        <td>symfony/symfony</td>
        <td>v3.3.13</td>
        <td>The Symfony PHP framework</td>
    </tr>
    <tr>
        <td>twig/twig</td>
        <td>v2.4.4</td>
        <td></td>
        Twig, the flexible, fast, and secure template language for PHP </td></tr>
    <tr>
        <td>zendframework/zend-code</td>
        <td>3.3.0</td>
        <td>provides facilities to generate arbitrary code using an object oriented interface</td>
    </tr>
    <tr>
        <td>zendframework/zend-eventmanager</td>
        <td>3.2.0</td>
        <td>Trigger and listen to events within a PHP application</td>
    </tr>
</table>


</body>
</html>
