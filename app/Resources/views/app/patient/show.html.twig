{% extends 'app/appBase.html.twig' %}

{% block body %}
    <h1>Patient</h1>

    <ul>
        <li>
            <a href="{{ path('app_patient_index') }}">Back to the list</a>
        </li>
        <li>
            <a href="{{ path('app_patient_edit', { 'id': patient.id }) }}">Edit</a>
        </li>
    </ul>

    <table>
        <tbody>
        <tr>
            <th>Id</th>
            <td>{{ patient.id }}</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>{{ patient.name }}</td>
        </tr>
        <tr>
            <th>Surname</th>
            <td>{{ patient.surname }}</td>
        </tr>
        <tr>
            <th>Personalidentificationnumber</th>
            <td>{{ patient.personalIdentificationNumber }}</td>
        </tr>
        <tr>
            <th>Street</th>
            <td>{{ patient.street }}</td>
        </tr>
        <tr>
            <th>Housenumber</th>
            <td>{{ patient.houseNumber }}</td>
        </tr>
        <tr>
            <th>City</th>
            <td>{{ patient.city }}</td>
        </tr>
        <tr>
            <th>Zip</th>
            <td>{{ patient.zip }}</td>
        </tr>
        <tr>
            <th>Medicalidentificationnumber</th>
            <td>{{ patient.medicalIdentificationNumber }}</td>
        </tr>
        <tr>
            <th>Insurancecompanyid</th>
            <td>{{ patient.insuranceCompanyId }}</td>
        </tr>
        <tr>
            <th>Gender</th>
            <td>{{ patient.gender }}</td>
        </tr>
        </tbody>
    </table>

    <br>

    <div>
        <h4>Hospitalize form</h4>

        {{ form_start(hospitalizeForm) }}
        {{ form_widget(hospitalizeForm) }}
        <input type="submit" value="Hospitalize"/>
        {{ form_end(hospitalizeForm) }}
    </div>

    <br>

    <div>
        <h4>Examine form</h4>

        {#todo: move to a separate page?#}
        {{ form_start(examineForm) }}
        {{ form_widget(examineForm) }}
        <input type="submit" value="Examine"/>
        {{ form_end(examineForm) }}
    </div>

    {% set currentHospitalization = patient.getCurrentHospitalization() %}

    {% if currentHospitalization %}
        <h2>Aktuální hospitalizace s vyšetřeními a předepsanými léky</h2>
        {% include ':app/hospitalization:showWidget.html.twig' with {'hospitalization': currentHospitalization} %}
    {% endif %}

    {% include ':app/hospitalization:index.html.twig' with {'hospitalizations': patient.getHospitalizations()} %}
{% endblock %}
