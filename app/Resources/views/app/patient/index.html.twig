{% extends 'app/appBase.html.twig' %}

{% block body %}
	<div class="container">

	{% if patients|length != 0 %}
		<form method="GET" class="fm fm--search">
			<label>
				<input type="text" name="q" placeholder="Vyhledávejte např. pacienta">
				<button type="submit"><span>Vyhledávat</span></button>
				{# <a href="{{ path('app_patient_index') }}">Clear search</a> #}
			</label>
		</form>
	{% endif %}

		<h1>Seznam pacientů</h1>
		{% if patients|length == 0 %}
			<p class="grid--empty">Žádní pacienti</p>
		{% else %}
			<table class="grid">
				<thead>
					<tr>
						<th>Id</th>
						<th>Jméno</th>
						<th>Příjmení</th>
						<th>uid</th>
						<th>Ulice</th>
						<th>Č.p.</th>
						<th>Město</th>
						<th>PSČ</th>
						<th>mid</th>
						<th>Pojišťovna</th>
						<th>Pohlaví</th>
						<th>&nbsp;</th>
					</tr>
				</thead>
				<tbody>
					{% for patient in patients %}
						<tr>
							<td><a href="{{ path('app_patient_show', { 'id': patient.id }) }}">{{ patient.id }}</a></td>
							<td>{{ patient.name }}</td>
							<td>{{ patient.surname }}</td>
							<td>{{ patient.personalIdentificationNumber }}</td>
							<td>{{ patient.street }}</td>
							<td>{{ patient.houseNumber }}</td>
							<td>{{ patient.city }}</td>
							<td>{{ patient.zip }}</td>
							<td>{{ patient.medicalIdentificationNumber }}</td>
							<td>{{ patient.insuranceCompanyId }}</td>
							<td>{{ patient.gender }}</td>
							<td>
								<ul>
									<li>
										<a href="{{ path('app_patient_show', { 'id': patient.id }) }}">Detail</a>
									</li>
									<li>
										<a href="{{ path('app_patient_edit', { 'id': patient.id }) }}">Upravit</a>
									</li>
								</ul>
							</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>

{# @TODO strankovani #}
{# 	neco jako - foreach na stranky, pro current hodit 'pagging__item--active'
		a pak nejake podminky do toho na to, kdyz current bude ob 4 treba,
		tak hodit separator, dopredu ci dozadu a prvni a posledni bych vypsal vzdycky #}
		{# na sipky jsem se vysral nejak mi ted nedavaly smysl:D #}

{# 			<div class="grid__pagginator">
				<ul class="pagging ca">
					<li class="pagging__item pagging__item--active">
						<a href="#">1</a>
					</li>
					<li class="pagging__item">
						<a href="#">2</a>
					</li>
					<li class="pagging__item">
						<a href="#">3</a>
					</li>
					<li class="pagging__item">
						<a href="#">4</a>
					</li>
					<li class="pagging__item pagging__item--separator">
						...
					</li>
					<li class="pagging__item">
						<a href="#">5</a>
					</li>
				</ul>
			</div> #}


		{% endif %}

		<a href="{{ path('app_patient_new') }}" class="btn">Vytvořit nového pacienta</a>

	</div>
{% endblock %}
